# Container Census Configuration
#
# Environment variables can override these settings:
#   DATABASE_PATH - Override database path
#   SERVER_HOST - Override server host
#   SERVER_PORT - Override server port
#   SCANNER_INTERVAL_SECONDS - Override scan interval
#   TELEMETRY_ENABLED - Override telemetry enabled (true/false)
#   TELEMETRY_INTERVAL_HOURS - Override telemetry interval

database:
  path: ./data/census.db  # Can be overridden by DATABASE_PATH env var

server:
  host: 0.0.0.0  # Can be overridden by SERVER_HOST env var
  port: 8080     # Can be overridden by SERVER_PORT env var

scanner:
  interval_seconds: 300  # Scan every 5 minutes (override with SCANNER_INTERVAL_SECONDS)
  timeout_seconds: 30    # Timeout for each scan operation

telemetry:
  enabled: false  # Set to true to enable anonymous telemetry (override with TELEMETRY_ENABLED)
  interval_hours: 168  # Submit telemetry weekly - 7 days (override with TELEMETRY_INTERVAL_HOURS)
  endpoints:
    # Community telemetry endpoint (optional - helps improve container-census)
    - name: community
      url: https://cc-telemetry.selfhosters.cc/api/ingest
      enabled: false  # Set to true to participate
      api_key: ""  # No authentication required for community endpoint

    # Private telemetry endpoint (your own analytics server)
    # - name: private
    #   url: http://my-analytics.local:8081/api/ingest
    #   enabled: true
    #   api_key: "your-secret-key"  # Optional authentication

hosts:
  # Local Docker daemon via Unix socket
  - name: local
    address: unix:///var/run/docker.sock
    description: Local Docker daemon

  # Remote Docker host via TCP (requires Docker API exposed)
  # - name: remote-host-1
  #   address: tcp://192.168.1.100:2376
  #   description: Remote Docker host

  # Remote Docker host via SSH
  # - name: remote-host-2
  #   address: ssh://user@192.168.1.101
  #   description: Remote host over SSH

  # Another remote host
  # - name: production-server
  #   address: tcp://prod.example.com:2376
  #   description: Production Docker host
